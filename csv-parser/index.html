<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vince&#39;s CSV Parser: Yet Another... CSV Parser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vince&#39;s CSV Parser
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Yet Another... CSV Parser </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/vincentlaucsb/csv-parser"></a> <a href="https://codecov.io/gh/vincentlaucsb/csv-parser"></a></p>
<h2>Why?</h2>
<p>There's plenty of other CSV parsers in the wild, but I had a hard time finding what I wanted. So I created this library with these goals in mind:</p><ul>
<li>Reasonable performance</li>
<li>Full RFC 4180 compliance</li>
<li>Well tested</li>
<li><a href="http://vincela.com/csv-parser/">Well documented</a></li>
</ul>
<p>Although performance and memory efficiency were kept in mind while developing this library, flexibility, extensibility, and ease-of-use were paramount.</p>
<h2>Building</h2>
<p>Incorporating this CSV parser into your project only requires a compiler that speaks C++11, such as g++, clang++, or Microsoft Visual C++. Simply copy and paste the header and source files located in src/ and you're good to go, since the library itself requires no third-party dependencies. The Makefile and Visual Studio files are intended for building the test suite.</p>
<p><b>GCC/Clang Compiler Flags</b>: <code>-O3 -pthread -std=c++11 -Wall</code></p>
<h2>Features &amp; Examples</h2>
<h3>Reading a Large File</h3>
<p>With this library, you can easily stream over a large file without reading its entirety into memory.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">CSVReader reader(&quot;very_big_file.csv&quot;);</div><div class="line">std::vector&lt;std::string&gt; row;</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    // Do stuff with row here</div><div class="line">}</div></div><!-- fragment --><p>You can also reorder a CSV or only keep a subset of the data simply by passing in a vector of column indices.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">std::vector&lt;size_t&gt; new_order = { 0, 2, 3, 5 };</div><div class="line">CSVReader reader(&quot;very_big_file.csv&quot;, new_order);</div><div class="line">std::vector&lt;std::string&gt; row;</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    // Do stuff with row here</div><div class="line">}</div></div><!-- fragment --><h3>Automatic Type Conversions</h3>
<p>If your CSV has lots of numeric values, you can also have this parser automatically convert them to the proper data type.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">CSVReader reader(&quot;very_big_file.csv&quot;);</div><div class="line">std::vector&lt;CSVField&gt; row;</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    if (row[0].is_number()) { // is_int() and is_float() are also available</div><div class="line">        // Do something with data by calling</div><div class="line">        // row[0].get_int(), row[0].get_float(), row[0].get_number&lt;long int&gt;(), ..., etc.</div><div class="line">    }</div><div class="line"></div><div class="line">    // get_string() can be called on any data types</div><div class="line">    std::cout &lt;&lt; row[0].get_string() &lt;&lt; std::endl;</div><div class="line">}</div></div><!-- fragment --><h3>Specifying a Specific Delimiter, Quoting Character, etc.</h3>
<p>As you may have noticed in the examples above, it seems like I simply assumed the parser would automatically know how each CSV file was formatted. That's partially true! By default, all of the classes and functions (unless otherwise specified) will try to guess the features of a file. For example, this means that CSVReader will try to guess whether the delimiter is a comma, tab, pipe, etc. The guesser is also capable of differentiating leading comments in a file from the actual data.</p>
<p>This largely allows code using this parser to focus on what operations should on the data itself, rather than worrying about what format it is in. However, in rare circumstances the guess isn't perfect, and you might need to give the parser some guidance.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"># include ...</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">CSVFormat format = {</div><div class="line">    &#39;\t&#39;,    // Delimiter</div><div class="line">    &#39;~&#39;,     // Quote-character</div><div class="line">    &#39;2&#39;,     // Line number of header</div><div class="line">    {}       // Column names -- if empty, then filled by reading header row</div><div class="line">};</div><div class="line"></div><div class="line">CSVReader reader(&quot;wierd_csv_dialect.csv&quot;, {}, format);</div><div class="line">vector&lt;CSVField&gt; row;</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    // Do stuff with rows here</div><div class="line">}</div></div><!-- fragment --><h3>Parsing an In-Memory String</h3>
<p>This library has lots of short-hand functions so you can do common tasks without writing a lot of code, and parsing a CSV string is one of them.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"># include ...</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">std::string csv_string = &quot;Actor,Character&quot;</div><div class="line">    &quot;Will Ferrell,Ricky Bobby\r\n&quot;</div><div class="line">    &quot;John C. Reilly,Cal Naughton Jr.\r\n&quot;</div><div class="line">    &quot;Sacha Baron Cohen,Jean Giard\r\n&quot;</div><div class="line"></div><div class="line">CSVReader csv_rows = parse(csv_string);</div><div class="line">vector&lt;string&gt; row;</div><div class="line">while (csv_rows.read(row)) {</div><div class="line">    // Do stuff with row here</div><div class="line">}</div></div><!-- fragment --><h3>CSV Metadata</h3>
<p>Sometimes we don't really care for the CSV data&ndash;we just want details about the file itself.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"># include ...</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">std::vector&lt;std::string&gt; column_names = get_col_names(&quot;worldcitiespop.txt&quot;);</div><div class="line"></div><div class="line">// Returns -1 if the column can&#39;t be found (case-sensitive search)</div><div class="line">// Zero-indexed</div><div class="line">int column_index = get_col_pos(&quot;worldcitiespop.txt&quot;, &quot;Country&quot;);</div><div class="line"></div><div class="line">// Note: Quote character guessing isn&#39;t implemented yet--it&#39;s always</div><div class="line">// assumed to be &quot;</div><div class="line">CSVFormat format = guess_format(&quot;worldcitiespop.txt&quot;);</div><div class="line"></div><div class="line">std::cout &lt;&lt; &quot;This is a CSV file delimited by &quot; &lt;&lt; format.delim</div><div class="line">    &lt;&lt; &quot; with its header on row &quot; &lt;&lt; format.header</div><div class="line">    &lt;&lt; &quot; and its second column named &quot; &lt;&lt; format.col_names.at(2)</div><div class="line">    &lt;&lt; std::endl;</div><div class="line"></div><div class="line">// You can also get the same meta-data while parsing a CSV</div><div class="line">CSVReader reader(&quot;very_big_file.csv&quot;);</div><div class="line">std::vector&lt;CSVField&gt; row;</div><div class="line"></div><div class="line">std::vector&lt;std::string&gt; col_names = reader.get_col_names();</div><div class="line">CSVFormat big_file = reader.get_format();</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><h2>Contributing</h2>
<p>Bug reports, feature requests, and so on are always welcome.</p>
<p>(TODO: Write more later) </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
