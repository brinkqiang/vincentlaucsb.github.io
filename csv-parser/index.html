<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vince&#39;s CSV Parser: Vince&#39;s CSV Parser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vince&#39;s CSV Parser
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Vince's CSV Parser </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/vincentlaucsb/csv-parser"></a> <a href="https://codecov.io/gh/vincentlaucsb/csv-parser"></a></p>
<h2>Motivation</h2>
<p>There's plenty of other CSV parsers in the wild, but I had a hard time finding what I wanted. Specifically, I wanted something which had an interface similar to Python's <code>csv</code> module. Furthermore, I wanted support for special use cases such as calculating statistics on very large files. Thus, this library was created with these following goals in mind:</p>
<h3>Performance</h3>
<p>This CSV parser uses multiple threads to simulatenously pull data from disk and parse it. Furthermore, it is capable of incremental streaming (parsing larger than RAM files), and quickly parsing data types.</p>
<h3>RFC 4180 Compliance</h3>
<p>This CSV parser is much more than a fancy string splitter, and follows every guideline from <a href="https://www.rfc-editor.org/rfc/rfc4180.txt">RFC 4180</a>. On the other hand, it is also robust and capable of handling deviances from the standard. An optional strict parsing mode can be enabled to sniff out errors in files.</p>
<h3>Easy to Use and Well-Documented</h3>
<p><a href="https://vincentlaucsb.github.io/csv-parser">https://vincentlaucsb.github.io/csv-parser</a></p>
<p>In additon to being easy on your computer's hardware, this library is also easy on you&ndash;the developer. Some helpful features include:</p><ul>
<li>Decent ability to guess the dialect of a file (CSV, tab-delimited, etc.)</li>
<li>Ability to handle common deviations from the CSV standard, such as inconsistent row lengths, and leading comments</li>
<li>Ability to manually set the delimiter and quoting character of the parser</li>
</ul>
<h3>Well Tested</h3>
<h2>Building</h2>
<p>All of this library's essentials are located under <code>src/</code>, with no dependencies aside from the STL. This is a C++11 library developed using Microsoft Visual Studio and compatible with g++ and clang. The CMakeList and Makefile contain instructions for building the main library, some sample programs, and the test suite.</p>
<p><b>GCC/Clang Compiler Flags</b>: <code>-pthread-O3 -std=c++11</code></p>
<h2>Features &amp; Examples</h2>
<h3>Reading a Large File</h3>
<p>With this library, you can easily stream over a large file without reading its entirety into memory.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">CSVReader reader(&quot;very_big_file.csv&quot;);</div><div class="line">std::vector&lt;std::string&gt; row;</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    // Do stuff with row here</div><div class="line">}</div></div><!-- fragment --><h3>Reordering/Subsetting Data</h3>
<p>You can also reorder a CSV or only keep a subset of the data simply by passing in a vector of column indices.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">std::vector&lt;size_t&gt; new_order = { 0, 2, 3, 5 };</div><div class="line">CSVReader reader(&quot;very_big_file.csv&quot;, new_order);</div><div class="line">std::vector&lt;std::string&gt; row;</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    // Do stuff with row here</div><div class="line">}</div></div><!-- fragment --><h3>Automatic Type Conversions</h3>
<p>If your CSV has lots of numeric values, you can also have this parser automatically convert them to the proper data type.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">CSVReader reader(&quot;very_big_file.csv&quot;);</div><div class="line">std::vector&lt;CSVField&gt; row;</div><div class="line"></div><div class="line">size_t date = reader.index_of(&quot;timestamp&quot;);</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    if (row[date].is_int())</div><div class="line">        row[date].get&lt;int&gt;();</div><div class="line"></div><div class="line">    // get&lt;std::string&gt;() can be called on any values</div><div class="line">    std::cout &lt;&lt; row[date].get&lt;std::string&gt;() &lt;&lt; std::endl;</div><div class="line">}</div></div><!-- fragment --><h3>Specifying a Specific Delimiter, Quoting Character, etc.</h3>
<p>Although the CSV parser has a decent guessing mechanism, in some cases it is preferrable to specify the exact parameters of a file.</p>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"># include ...</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">CSVFormat format = {</div><div class="line">    &#39;\t&#39;,    // Delimiter</div><div class="line">    &#39;~&#39;,     // Quote-character</div><div class="line">    &#39;2&#39;,     // Line number of header</div><div class="line">    {}       // Column names -- if empty, then filled by reading header row</div><div class="line">};</div><div class="line"></div><div class="line">CSVReader reader(&quot;wierd_csv_dialect.csv&quot;, {}, format);</div><div class="line">vector&lt;CSVField&gt; row;</div><div class="line"></div><div class="line">while (reader.read_row(row)) {</div><div class="line">    // Do stuff with rows here</div><div class="line">}</div></div><!-- fragment --><h3>Parsing an In-Memory String</h3>
<div class="fragment"><div class="line"># include &quot;csv_parser.h&quot;</div><div class="line"># include ...</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line"></div><div class="line">int main() { </div><div class="line">    std::string csv_string = &quot;Actor,Character&quot;</div><div class="line">        &quot;Will Ferrell,Ricky Bobby\r\n&quot;</div><div class="line">        &quot;John C. Reilly,Cal Naughton Jr.\r\n&quot;</div><div class="line">        &quot;Sacha Baron Cohen,Jean Giard\r\n&quot;</div><div class="line"></div><div class="line">    // Method 1</div><div class="line">    std::deque&lt;CSVRow&gt; rows = parse(csv_string);</div><div class="line">    for (auto&amp; r: rows) {</div><div class="line">        // Do stuff with row here</div><div class="line">    }</div><div class="line"></div><div class="line">    // Method 2</div><div class="line">    std::deque&lt; std::vector&lt;std::string&gt; &gt; rows = parse(csv_string);</div><div class="line">    for (auto&amp; r: rows) {</div><div class="line">        // Do stuff with row here</div><div class="line">    }</div><div class="line"></div><div class="line">    // ..</div><div class="line">}</div></div><!-- fragment --><h3>Writing CSV Files</h3>
<div class="fragment"><div class="line"># include &quot;csv_writer.hpp&quot;</div><div class="line"># include ...</div><div class="line"></div><div class="line">using namespace csv;</div><div class="line">using vector;</div><div class="line">using string;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">std::stringstream ss; // Can also use ifstream, etc.</div><div class="line">auto writer = make_csv_writer(ss);</div><div class="line">writer &lt;&lt; vector&lt;string&gt;({ &quot;A&quot;, &quot;B&quot;, &quot;C&quot; })</div><div class="line">    &lt;&lt; vector&lt;string&gt;({ &quot;I&#39;m&quot;, &quot;too&quot;, &quot;tired&quot; })</div><div class="line">    &lt;&lt; vector&lt;string&gt;({ &quot;to&quot;, &quot;write&quot;, &quot;documentation&quot; });</div><div class="line"></div><div class="line">...</div></div><!-- fragment --><h3>Utility Functions</h3>
<ul>
<li><b>Return column names:</b> <a class="el" href="namespacecsv.html#ab228d4dae996f843fafab524659eca30">get_col_names()</a></li>
<li><b>Return the position of a column:</b> <a class="el" href="namespacecsv.html#a4821f3b169d8426223015c07dc09ff46">get_col_pos()</a>;</li>
</ul>
<h2>Contributing</h2>
<p>Bug reports, feature requests, and so on are always welcome. Feel free to leave a note in the Issues section. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
